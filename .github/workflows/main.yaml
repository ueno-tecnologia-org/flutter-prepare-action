on: [push]

jobs:
  test_job:
    runs-on: ubuntu-latest
    name: checks
    steps:
      # To use this repository's private action,
      # you must check out the repository
      - uses: actions/checkout@v4
      - name: Checkout
        uses: actions/checkout@v3
      - name: Check if GITHUB_TOKEN is empty
        run: |
          if [[ -z "${{ secrets.GITHUB_TOKEN }}" ]]; then
            echo "GITHUB_TOKEN is empty"
            exit 1
          else
            echo "GITHUB_TOKEN is not empty"
          fi
        shell: bash
      - name: Executes flutter-prepare-action
        uses: ./ # Uses an action in the root directory
        id: fpa
        with:
          flutter-version: '3.19.2'
          format-exits-if-changed: false
          token: ${{ secrets.GITHUB_TOKEN }}